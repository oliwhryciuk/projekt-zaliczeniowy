<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bagz - Main Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; background: #f7f7f7; }
        .header { display: flex; justify-content: space-between; align-items: center; background: #222; color: #fff; padding: 20px 40px; }
        .header .company { font-size: 2.5em; font-weight: bold; letter-spacing: 2px; }
        .header .auth { font-size: 1.1em; }
        .main-panes { display: flex; justify-content: center; gap: 40px; margin: 40px 0 30px 0; }
        .pane { background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #0001; padding: 30px 50px; text-align: center; font-size: 1.3em; font-weight: 500; transition: box-shadow 0.2s; cursor: pointer; }
        .pane:hover { box-shadow: 0 4px 16px #0002; background: #f0f0f0; }
        .bags-list { max-width: 900px; margin: 0 auto 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #0001; padding: 30px; }
        .bags-list h2 { margin-top: 0; }
        .bag-item { display: flex; align-items: center; gap: 20px; border-bottom: 1px solid #eee; padding: 18px 0; }
        .bag-item:last-child { border-bottom: none; }
        .bag-photo { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; background: #eee; }
        .bag-info { flex: 1; }
        .bag-title { font-size: 1.1em; font-weight: bold; }
        .bag-meta { color: #666; font-size: 0.95em; }
    </style>
    <script>
        async function fetchBags() {
            const resp = await fetch('/bags/');
            const bags = await resp.json();
            const list = document.getElementById('bags-list');
            list.innerHTML = '';
            bags.forEach(bag => {
                const div = document.createElement('div');
                div.className = 'bag-item';
                div.innerHTML = `
                    <img class="bag-photo" src="${bag.photo || ''}" alt="Bag photo" onerror="this.style.display='none'">
                    <div class="bag-info">
                        <div class="bag-title">${bag.brand} ${bag.model_name}</div>
                        <div class="bag-meta">Size: ${['Small','Medium','Big'][bag.size] || bag.size}, Color: ${bag.color}, Price: ${bag.price} z≈Ç</div>
                    </div>
                `;
                list.appendChild(div);
            });
        }
        window.onload = fetchBags;
    </script>
</head>
<body>
    <div class="header">
        <div class="company">Bagz</div>
        <div class="auth">
            <a href="/login" id="login-link" style="color:#fff; text-decoration:none; margin-right:20px;">Login</a>
            <a href="/logout" id="logout-link" style="color:#fff; text-decoration:none;">Logout</a>
        </div>
    </div>
    <div class="main-panes">
        <a class="pane" href="/bags/small-bags">Small Bags</a>
        <a class="pane" href="/bags/medium-bags">Medium Bags</a>
        <a class="pane" href="/bags/big-bags">Big Bags</a>
    </div>
    <div class="bags-list">
        <h2>All Bags</h2>
        <div id="bags-list"></div>
    </div>
</body>
</html>
